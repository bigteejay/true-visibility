{"version":3,"sources":["true-visibility.js"],"names":["root","factory","define","amd","module","exports","isVisible","this","_el","VISIBLE_PADDING","document","querySelector","_inDocument","element","parentNode","_isVisible","el","style","getComputedStyle","opacity","display","visibility","p","pStyle","pOverflow","overflow","cRect","getBoundingClientRect","pRect","inScrollableBounds","top","right","scrollLeft","bottom","scrollTop","left"],"mappings":";CAeE,SAAUA,EAAMC,GAES,kBAAXC,SAAyBA,OAAOC,IAExCD,OAAQ,qBAAuBD,GAEP,gBAAXG,SAAuBA,OAAOC,QAE3CD,OAAOC,QAAUJ,IAIjBD,EAAKM,UAAYL,KAGvBM,KAAM,WAEJ,GAAID,GAAY,SAAUE,GAEtB,YAEA,IAAIC,GAAkB,CAKF,iBAARD,KAERA,EAAME,SAASC,cAAeH,GAYlC,IAAII,GAAc,SAAUC,GAGxB,KAAQA,EAAUA,EAAQC,YAGtB,GAAKD,IAAYH,SAEb,OAAO,CAGf,QAAO,GAaPK,EAAa,SAAUC,GAEvB,GAAIC,GAAQC,iBAAkBF,EAE9B,IAAuB,MAAlBC,EAAME,SAAqC,SAAlBF,EAAMG,SACX,WAArBH,EAAMI,WAEN,OAAO,CAGX,IAAIC,GAAIN,EAAGF,UAEX,IAAKQ,EACL,CACI,GAAKA,IAAMZ,SAEP,OAAO,CAGX,IAAIa,GAAcL,iBAAkBI,GAChCE,EAAcD,EAAOE,SAErBC,EAAcV,EAAGW,wBACjBC,EAAcN,EAAEK,uBAMpB,IAAmB,WAAdH,GAAwC,WAAdA,EAC/B,CACI,GAAIK,GACAH,EAAMI,IAAMrB,GAAmBmB,EAAME,KACrCJ,EAAMK,MAAQtB,GAAmBmB,EAAMG,MAAQT,EAAEU,YACjDN,EAAMO,OAASxB,GAAmBmB,EAAMK,OAASX,EAAEY,WACnDR,EAAMS,KAAO1B,GAAmBmB,EAAMO,IAI1C,KAAMN,EACF,OAAO,EAIf,MAAOd,GAAYO,GAGvB,OAAO,EAOX,UAAMd,IAAQI,EAAaJ,KAKpBO,EAAYP,GAGvB,OAAOF","file":"true-visibility.min.js","sourcesContent":["// Configure JSHint\n//  Predefined globals, false = read only\n/* globals getComputedStyle:false */\n\n\n\n/**\n * ## isVisible\n *\n * @author Jason Farrell (http://useallfive.com/)\n * @author Mouse Braun (mouse@knoblau.ch)\n * @author bigteejay (twjohnso@hotmail.com)\n *\n * Checks if a DOM element is truly visible.\n */\n( function( root, factory )\n{\n    if ( typeof define === 'function' && define.amd )\n    {\n        define( 'true-visibility', [], factory );\n    }\n    else if ( typeof module === 'object' && module.exports )\n    {\n        module.exports = factory();\n    }\n    else\n    {\n        root.isVisible = factory();\n    }\n}\n( this, function()\n{\n    var isVisible = function( _el )\n    {\n        'use strict';\n        \n        var VISIBLE_PADDING = 2;\n\n        /*\n         * allows selector strings\n         */\n        if ( typeof _el === 'string' )\n        {\n            _el = document.querySelector( _el );\n        }\n\n        /**\n         * ## inDocument\n         *\n         * checks if an element is in the document\n         *\n         * @param {DOMElement} element element to check\n         *\n         * @return {Boolean} in document or not\n         */\n        var _inDocument = function( element )\n        {\n            /*jshint -W084 */\n            while ( element = element.parentNode )\n            /*jshint +W084 */\n            {\n                if ( element === document )\n                {\n                    return true;\n                }\n            }\n            return false;\n        };\n\n        /**\n         * ## _isVisible\n         *\n         * Checks if a DOM element is visible. Takes into\n         * consideration its parents and overflow.\n         *\n         * @param {DOMElement} el the DOM element to check if is visible\n         *\n         * @return _Boolean_ [description]\n         */\n        var _isVisible = function( el )\n        {\n            var style = getComputedStyle( el );\n\n            if ( style.opacity === '0' || style.display === 'none' ||\n                style.visibility === 'hidden' )\n            {\n                return false;\n            }\n\n            var p = el.parentNode;\n\n            if ( p )\n            {\n                if ( p === document )\n                {\n                    return true;\n                }\n\n                var pStyle      = getComputedStyle( p );\n                var pOverflow   = pStyle.overflow;\n                \n                var cRect       = el.getBoundingClientRect();\n                var pRect       = p.getBoundingClientRect();\n\n                /**\n                 * check if the target element is to the right, left, under, or\n                 * above it's parent\n                 */\n                if ( pOverflow === 'hidden' || pOverflow === 'scroll' )\n                {\n                    var inScrollableBounds = (\n                        cRect.top + VISIBLE_PADDING >= pRect.top &&\n                        cRect.right - VISIBLE_PADDING <= pRect.right + p.scrollLeft &&\n                        cRect.bottom - VISIBLE_PADDING <= pRect.bottom + p.scrollTop &&\n                        cRect.left + VISIBLE_PADDING >= pRect.left\n                    );\n                    \n                    //-- Our target element is out of bounds\n                    if ( !inScrollableBounds ) {\n                        return false;\n                    }\n                }\n\n                return _isVisible( p );\n            }\n\n            return true;\n        };\n\n        /*\n         * only check once.  it's parents aren't going to be any more or less in\n         * the document\n         */\n        if ( !_el || !_inDocument( _el ) )\n        {\n            return false;\n        }\n\n        return _isVisible( _el );\n    };\n\n    return isVisible;\n} ) );\n"],"sourceRoot":"/source/"}